let database = [
  {
    title: "team lead",
    location: "remote",
    category: "management",
    experience: "senior",
    salary: "$ 100-120k / year",
    responsabilities: [
      "Recruiting, managing, and maintaining an excellent engineering team.",
      "Planning and executing complex technical projects related to cloud web-based applications.",
      "Collaboration with other technical colleagues.",
      "Contribute to the overall architecture, design, and development.",
      "Managing software project schedules.",
      "Maintaining and improving team performance and quality of life.",
      "Developing processes to improve product performance and quality.",
      "Ensuring successful product and feature rollouts, as well as reliable operations.",
      "Creating a healthy team culture and transparent communication.",
      "Providing coaching and counseling via mentoring and one-to-one meetings.",
      "Planning and executing training for the engineering team.",
    ],
    requirements: [
      "Agile mindset and extensive experience with modern development practices.",
      "Experience managing, coaching, and mentoring software engineers.",
      "Experience with cloud technologies and distributed systems.",
      "Experience in shipping products and coordinating releases with relevant players.",
      "Experience developing cross-disciplinary collaboration between engineering, operations, support, and product teams.",
      "Experience with end-to-end quality best practices and their implementation.",
      "Experience with staffing, interviewing, building, and retaining teams.",
      "Experience converting complex ideas in written, verbal, and presentational formats.",
      "Real product experience with JavaScript/TypeScript frameworks such as Angular / ReactJS / Vue.js or other Frontend frameworks also with dedicated backend frameworks such as Node.js / .NET.",
    ],
    niceToHave: [],
  },
  {
    title: "IT recruiter",
    location: "remote",
    category: "human-resources",
    experience: "mid",
    salary: "$ 60-70k / year",
    responsabilities: [
      "Manage and deliver end to end external recruitment processes",
      "Conduct job interviews and propose shortlists of candidates to internal clients;",
      "Manage applications and response, providing feedback to management",
      "Serve as the primary point of contact for candidates throughout the recruitment process;",
      "Partner with operations management, so that recruitment and selection of employees meet business needs;",
      "Provide quality recruitment and selection process information to hiring managers;",
      "Update the recruitment tools",
    ],
    requirements: [
      "+3 years of experience in the recruitment of technical roles",
      "Professional appearance, ability to work in a team and a high degree of initiative",
      "Ability to work under pressure, service mentality and persistence",
      "University degree",
      "Open and communicative personality",
      "Proficient in working with data and reporting",
    ],
    niceToHave: [],
  },
  {
    title: "marketing design specialist",
    location: "remote",
    category: "marketing",
    experience: "mid",
    salary: "$ 60-70k / year",
    responsabilities: [
      "Develop and maintain the SEO strategy to ensure optimal web positioning for our web properties in the different marketing channels.",
      "Owner & Guardian of the Brand internally/Externally",
      "Manage & Create new digital design work",
      "Ensure consistency of Brand and creativity across digital channels",
      "Provide design Support to other business lines, graphics, logos, identity design, merch, etc..",
    ],
    requirements: [
      "Proven experience as marketing Design or Brand specialist",
      "Thorough understanding of marketing elements (including traditional and digital marketing such as SEO/Social media etc.) and market research methods",
      "Solid computer skills, including MS Office, marketing software, Adobe Creative Suite and applications (Web analytics, Google Adwords, etc.)",
      "Well-organized and detail-oriented",
      "Exceptional communication and writing skills",
      "Commercial awareness partnered with a creative mind",
      "BSc/BA in marketing, communications, or equivalent",
    ],
    niceToHave: [],
  },
  {
    title: "full stack developer",
    location: "remote",
    category: "information-technology",
    experience: "senior",
    salary: "$ 90-110k / year",
    responsabilities: [
      "Take a leadership role in helping the team with feature development and maintenance across Flinkâ€™s arsenal of backend services/microservices",
      "Taking part in the discussion and planning of new features.",
      "Mentorship of our junior engineers.",
      "Closely collaborate with other teams to deliver value to the end user.",
      "Drive the backend chapter towards adapting and experimenting with new technologies.",
      "Contribute to scaling up the backend team and bringing great talents onboard by conducting interviews and code pairing sessions.",
      "We have you build it, you own it and you monitor it mentality here at Flink. As a Senior Software engineer, you will ship your code using Kubernetes and monitor using DataDog.",
      "Our warehouse management system will be built using TypeScript, NestJS, React.JS and Node.js, in a microservice architecture",
    ],
    requirements: [
      "Experience building scalable and reliable large-scale applications.",
      "5 years of commercial experience as a Fullstack Software Engineer with expertise in Typescript and Node.js and Frontend Frameworks such as React.js or Vue.js.",
      "As a Senior Software Engineer, we will expect you to have previous experience of ownership over projects/part of an application/system you have worked on.",
      "You will have previous experience of architectural input into the design and build of a backend application/product/feature.",
      "Previous experience in mentoring junior engineers.",
      "Comfortable with event-based communication between microservices.",
      "Familiar with common monitoring / alerting/logging tools such as - Stackdriver, Datadog, NewRelic, Prometheus, ELK).",
      "Experienced with SQL databases (NoSQL is nice to have).",
      "Experience using cloud provider platforms like GCP or AWS, and deploying distributed services to Kubernetes. (Terraform knowledge is nice to have).",
      "Rigor in high code quality, unit testing and integration testing.",
      "Proficient in applying best practice Design patterns and Design principles when building your software.",
    ],
    niceToHave: [],
  },
  {
    title: "node.js developer",
    location: "remote",
    category: "information-technology",
    experience: "mid",
    salary: "$ 80-100k / year",
    responsabilities: [
      "Architect, design, code, test, deploy and monitor complex features in Node.js based services in our Realtime Communication Cloud using TypeScript as the programming language",
      "Utilize pair programming and test-driven design/development techniques to implement new features end-to-end",
      "Perform high-quality code reviews across teams",
      "Participate in tech lead forums to ensure better alignment and collaboration among the teams",
      "Collaborate with the team of team leads to provide technical governance and solutions",
    ],
    requirements: [
      "3-4 years of experience building RESTful APIs using NodeJS/TypeScript/JavaScript/ExpressJS/Gitlab/GitHub",
      "Must be fluent in TypeScript, JavaScript, NodeJS, NoSQL Database (Couch, Mongo), Writing Unit Tests/ TDD",
      "Experience with Docker, Kubernetes, elastic is a plus.",
      "Build, maintain, document, and evolve REST APIs, modules and packages.",
      "Participate in Agile ceremonies as part of Scaled Agile Delivery environment.",
      "Collaborate with team members, architecture, QE Teams to develop systems to adhere to specs and frameworks.",
    ],
    niceToHave: [],
  },
  {
    title: "devops engineer",
    location: "remote",
    category: "information-technology",
    experience: "mid",
    salary: "$ 90-110k / year",
    responsabilities: [
      "Requirements definition",
      "Implementation of automation/monitoring mechanisms",
      "Systems monitoring and supervision",
      "CI/CD management and automation",
      "Work with automation services and platforms",
      "Ensure systems availability, performance, and first & second levels of support",
      "Troubleshooting and analysis for finding the root cause of issues",
      "Scripting and coding",
      "Infrastructure management",
    ],
    requirements: [
      "Experience with containerization tools (EKS, Kubernetes).",
      "Experience with Jenkins (managing clusters, creating pipelines and groovy scripts).",
      "Knowledge about monitoring tools (ELK, Prometheus, Grafana, CloudWatch).",
      "Excellent planning and communication skills, capable of documenting and detailing implementation designs.",
      "Proficient with Amazon Web Services.",
    ],
    niceToHave: [],
  },
  {
    title: "front-end developer",
    location: "remote",
    category: "information-technology",
    experience: "mid",
    salary: "$ 70-90k / year",
    responsabilities: [
      "Develop new user-facing features ensuring code quality and high performance",
      "Write reusable code",
      "Ensure the technical feasibility of UI/UX designs",
      "Cooperating with back-end developers in the process of building RESTful models",
      "Able to estimate effort required and deliver to your commitment",
    ],
    requirements: [
      "At least two years experience in working with modern JavaScript and JavaScript frameworks.",
      "Good understanding of micro front ends and web components.",
      "Proven interest in testing, code review, and code quality.",
      "Experience working with REST web services and/or web APIs.",
      "Ability to work in a Kanban system with fast switching priorities.",
    ],
    niceToHave: [],
  },
  {
    title: "test engineer",
    location: "remote",
    category: "information-technology",
    experience: "entry",
    salary: "$ 50-60k / year",
    responsabilities: [
      "Design, create, execute, monitor, and update test scenarios based on defined acceptance criteria",
      "Document, investigate, troubleshoot, and report the uncovered software defects",
      "Find issues early in the development cycle to prevent late changes in the code",
      "Contribute to the design, development, and execution of automated test cases as per project needs",
      "Attend the scrum events within the team",
    ],
    requirements: [
      "1 year of testing-related experience (automation testing skills are a big plus)",
      "Troubleshooting, problem-solving mindset; ability to systematically and effectively break down problems to identify root failures",
      "A quality mindset where mistakes and failure are viewed as opportunities to learn and improve and close gaps",
      "Able and comfortable with working in a fast-paced, collaborative environment",
      "Good understanding of the lifecycle of a software development project",
    ],
    niceToHave: [
      "Prior experience in Automation testing (ie. Cypress, Katalon, Selenium Web Driver,)",
      "Familiar with Bugzilla and/or JIRA",
      "Work experience in multi-cultural environments",
      "Experience with Agile/Scrum methodology",
    ],
  },
];

const toTitleCase = function (str) {
  const charArray = Array.from(str.trim().toLowerCase());
  const capitalizeNextCharacter = function (currentCharIndex) {
    const nextCharIndex = currentCharIndex + 1;
    charArray[nextCharIndex] = charArray[nextCharIndex].toUpperCase();
  };
  charArray[0] = charArray[0].toUpperCase();
  charArray.forEach((char, i) => {
    if (char === " ") capitalizeNextCharacter(i);
  });
  return charArray.join("");
};

const addJobMissingInfo = function (jobsArray) {
  const randomInt = function (min, max) {
    const correctedMin = min - 1;
    return Math.floor(Math.random() * (max - correctedMin) + min);
  };
  const generateDate = function () {
    let newDateObj = new Date();
    newDateObj.setDate(randomInt(1, 29));
    newDateObj.setMonth(newDateObj.getMonth() - 1);
    let options = {
      year: "numeric",
      month: "long",
      day: "numeric",
    };
    return Intl.DateTimeFormat("default", options)
      .format(newDateObj)
      .replace(",", "");
  };
  const addIdsAndpublishingDates = function (jobsArray) {
    jobsArray.forEach((job) => {
      job.publishingDateStr = generateDate();
      job.ID = randomInt(10_000, 99_999);
    });
  };
  addIdsAndpublishingDates(jobsArray);
};
addJobMissingInfo(database);

const createSearchCriteria = function () {
  const firstPage = document.querySelector(".section-first-interaction");
  const searchInputField = firstPage.classList.contains("hidden")
    ? document.querySelector(".main-search-field")
    : document.querySelector(".first-interaction-search-field");
  const filtersCheckboxes = document.querySelectorAll(
    "input[type ='checkbox']"
  );
  const SearchCriteriaObj = {
    location: [],
    category: [],
    experience: [],
  };
  SearchCriteriaObj.keywords = searchInputField.value
    .toLowerCase()
    .trim()
    .split(" ")
    .filter((el) => el !== "");
  filtersCheckboxes.forEach((checkbox) => {
    if (checkbox.checked) {
      const filterCategory = checkbox.id.slice(0, checkbox.id.indexOf("-"));
      const filterName = checkbox.name;
      SearchCriteriaObj[filterCategory].push(filterName);
    }
  });
  return SearchCriteriaObj;
};

const createKeywordsRegEx = function (keywordsArr) {
  const result =
    keywordsArr.length === 1 ? keywordsArr[0] : keywordsArr.join("|");
  return new RegExp(result);
};
const filterDatabase = function (searchCriteriaObj) {
  const noSearchCriteria = Object.values(searchCriteriaObj).every(
    (value) => value.length == 0
  );
  if (noSearchCriteria) return database;
  let keywordsRegex = createKeywordsRegEx(searchCriteriaObj.keywords);
  const jobsFilteredByKeywords = database
    .map((job) => JSON.stringify(job))
    .filter((job) => job.toLowerCase().match(keywordsRegex))
    .map((job) => JSON.parse(job));
  //check if all filters are unckecked -
  const noFiltersToApply = Object.entries(searchCriteriaObj).every((value) => {
    if (value[0] == "keywords") return true;
    else return value[1].length == 0;
  });
  if (noFiltersToApply) return jobsFilteredByKeywords;
  const jobsArrayIsEmpty = jobsFilteredByKeywords.length == 0;
  if (jobsArrayIsEmpty) return;
  const jobsFilteredByAllCriteria = jobsFilteredByKeywords.filter((job) => {
    for (let criterion in searchCriteriaObj) {
      if (criterion == "keywords") continue;
      const criterionIsNotEmpty = searchCriteriaObj[criterion].length != 0;
      if (criterionIsNotEmpty) {
        const jobDoesNotMeetTheCriterion = !searchCriteriaObj[
          criterion
        ].includes(job[criterion]);
        if (jobDoesNotMeetTheCriterion) return false;
      }
    }
    return true;
  });
  return jobsFilteredByAllCriteria;
};

const createRelevanceScores = function (searchKeywords, rawDataBase) {
  rawDataBase.forEach((job) => {
    job.relevancePoints = 0;
  });
  const noKeywords = searchKeywords.length === 0;
  const databaseIsEmpty = rawDataBase.length === 0;
  if (noKeywords || databaseIsEmpty) return;
  const sectionPointsPairs = {
    title: 10_000,
    experience: 2000,
    location: 2000,
    requirements: 500,
    niceToHave: 350,
    responsabilities: 500,
    salary: 0,
  };
  searchKeywords.forEach((keyword) => {
    const keywordVariations = [
      keyword,
      keyword[0].toUpperCase() + keyword.slice(1),
      keyword.toUpperCase(),
    ];
    const regex = new RegExp(keywordVariations.join("|"));
    rawDataBase.forEach((job) => {
      let totalPoints = 0;
      for (let detail in job) {
        if (typeof job[detail] === "string") {
          if (job[detail].match(regex)) {
            totalPoints += sectionPointsPairs[detail];
          }
        } else {
          const stringElement = String(job[detail]);
          if (stringElement.match(regex)) {
            totalPoints += sectionPointsPairs[detail];
          }
        }
      }
      job.relevancePoints += totalPoints;
    });
  });
};

const displayJobResults = function (jobsArr) {
  const searchResultsContainer = document.querySelector(".search-results");
  searchResultsContainer.innerHTML = "";
  jobsArr.forEach((job) => {
    let html = `
    <div data-jobid = ${job.ID} data-relevancescore = ${
      job.relevancePoints
    } class="search-result">
    <img
    src="img/favicon.png"
    class="result-omnifood-logo"
    alt="omnifood logo"
    />  
    <div class="result-overview">
    <p class="overview-date-posted">${job.publishingDateStr}</p>
    <p class="overview-job-title">${toTitleCase(job.title)}</p>
    <p class="overview-salary">${job.salary.slice(
      0,
      job.salary.indexOf("k") + 1
    )}</p>
          <p class="overview-location">${toTitleCase(job.location)}</p>
          </div>
          <div class="result-buttons">
          <div class="save-job">
          <ion-icon name="heart-outline"></ion-icon>
          <p>Save Job</p>
          </div>
          <button class="quick-apply">Quick apply</button>
          </div>
          </div>
          `;
    searchResultsContainer.insertAdjacentHTML("afterbegin", html);
  });
};

const syncSearchInputField = function () {
  const firstPageSearchField = document.querySelector(
    ".first-interaction-search-field"
  );
  const mainSearchField = document.querySelector(".main-search-field");
  mainSearchField.value = firstPageSearchField.value;
};

const showNumberOfResults = function (noOfResults) {
  const numberOfResultsContainer = document.querySelector(".results-number");
  numberOfResultsContainer.innerHTML = "";
  numberOfResultsContainer.insertAdjacentHTML(
    "afterbegin",
    `<strong>${noOfResults}</strong> ${
      noOfResults === 1 ? "result" : "results"
    }`
  );
};

const jobSearch = function () {
  const searchCriteria = createSearchCriteria();
  const resultRawData = filterDatabase(searchCriteria);
  const sortingCriterion =
    searchCriteria.keywords.length === 0 ? "date" : "relevance";
  createRelevanceScores(searchCriteria.keywords, resultRawData);
  displayJobResults(resultRawData);
  showNumberOfResults(resultRawData.length);
  sortResults(sortingCriterion);
  const firstPage = document.querySelector(".section-first-interaction");
  if (firstPage.classList.contains("hidden")) return;
  showMainPage();
  syncSearchInputField();
};

const showMainPage = function () {
  const firstFrame = document.querySelector(".section-first-interaction");
  const mainPage = document.querySelector(".section-main-content");
  firstFrame.classList.add("hidden");
  mainPage.classList.remove("hidden");
};

const sortResults = function (sortingCriterion) {
  const resultsContainer = document.querySelector(".search-results");
  const resultsArray = Array.from(document.querySelectorAll(".search-result"));
  const collectionOfSortingMethods = {
    relevance(a, b) {
      const aRelevance = a.dataset.relevancescore;
      const bRelevance = b.dataset.relevancescore;
      return bRelevance - aRelevance;
    },
    salary(a, b) {
      const aFullSalary = a.childNodes[3].childNodes[5].innerText;
      const bFullSalary = b.childNodes[3].childNodes[5].innerText;
      const aExtractedSalary = Number(
        aFullSalary.slice(2, aFullSalary.indexOf("-"))
      );
      const bExtractedSalary = Number(
        bFullSalary.slice(2, bFullSalary.indexOf("-"))
      );
      return bExtractedSalary - aExtractedSalary;
    },
    date(a, b) {
      const aDate = new Date(a.childNodes[3].childNodes[1].innerText);
      const bDate = new Date(b.childNodes[3].childNodes[1].innerText);
      return bDate - aDate;
    },
  };
  resultsArray.sort(collectionOfSortingMethods[sortingCriterion]);
  resultsArray.forEach((result) => resultsContainer.append(result));
};

const buildExpandedResult = function (source, id) {
  const expandedResultContainer = document.querySelector(
    ".result-fully-displayed"
  );
  const resultToExpand = source.find((el) => el.ID == id);
  const experienceGlossary = {
    none: "No Experience",
    entry: "Entry-Level ( &lt; 2 years )",
    mid: "Mid-Level ( 2-5 years )",
    senior: "Senior ( &gt; 5 years )",
  };
  let resultSummaryHTML = `
        <div class="result-summary">
          <div class="date-posted-wrapper">
            <p>Job full details</p>
            <p>Posted on ${resultToExpand.publishingDateStr}</p>
          </div>
          <h1 class="full-screen-job-title">${toTitleCase(
            resultToExpand.title
          )}</h1>
          <div class="full-screen-salary">
            <ion-icon name="cash-outline"></ion-icon>
            <p><strong>${resultToExpand.salary.slice(
              0,
              resultToExpand.salary.indexOf("k") + 1
            )}</strong> / year</p>
          </div>
          <div class="full-screen-experience">
            <ion-icon name="briefcase-outline"></ion-icon>
            <p>${experienceGlossary[resultToExpand.experience]}</p>
          </div>
          <div class="full-screen-location">
            <ion-icon name="location-outline"></ion-icon>
            <p>${toTitleCase(resultToExpand.location)}</p>
          </div>
        </div>`;
  expandedResultContainer.insertAdjacentHTML("afterbegin", resultSummaryHTML);

  const addListItems = function (source, containerClass) {
    const listContainer = document.querySelector(containerClass);
    listContainer.innerHTML = "";
    source.forEach((listItem) => {
      let listItemHTML = `<li>${listItem}</li>`;
      listContainer.insertAdjacentHTML("afterbegin", listItemHTML);
    });
  };
  addListItems(
    resultToExpand.responsabilities,
    ".full-screen-result-responsabilities"
  );
  addListItems(
    resultToExpand.requirements,
    ".full-screen-result-requirements-must-have"
  );
  addListItems(
    resultToExpand.niceToHave,
    ".full-screen-result-requirements-nice-to-have"
  );
};

const toggleVisibility = function () {
  const navigation = document.querySelector(".header");
  const expandedResult = document.querySelector(".result-fully-displayed");
  const searchPanel = document.querySelector(".search-panel");
  const filtersAndResults = document.querySelector(".filters-and-results");
  navigation.classList.toggle("hidden");
  searchPanel.classList.toggle("hidden");
  filtersAndResults.classList.toggle("hidden");
  expandedResult.classList.toggle("hidden");
};

// buildExpandedResult(database, database[4].ID);
const expandResult = function (e) {
  const logoWasClicked = e.target.classList.contains("result-omnifood-logo");
  const jobTitleWasClicked = e.target.classList.contains("overview-job-title");
  if (logoWasClicked || jobTitleWasClicked) {
    const id = e.target.closest(".search-result").dataset.jobid;
    buildExpandedResult(database, id);
    toggleVisibility();
  }
};

const resetFullDetailsWindow = function () {
  const elmToRemove = document.querySelector(".result-summary");
  elmToRemove.remove();
  const elmToEmptyOut = [
    document.querySelector(".full-screen-result-responsabilities"),
    document.querySelector(".full-screen-result-requirements-must-have"),
    document.querySelector(".full-screen-result-requirements-nice-to-have"),
  ];
  elmToEmptyOut.forEach((elm) => (elm.innerHTML = ""));
};
const closeExpandedResultWindow = function () {
  toggleVisibility();
  resetFullDetailsWindow();
};

const extractFilterLabel = function (source) {
  let labelMustBeCut = source.innerText.includes("(");
  let filterLabel = labelMustBeCut
    ? source.innerText.slice(0, source.innerText.indexOf("(") - 1)
    : source.innerText;
  return filterLabel;
};

const insertAppliedFiltersInHTML = function () {
  const appliedFiltersContainer = document.querySelector(".applied-filters");
  const filterLabels = document.querySelectorAll("label");
  filterLabels.forEach((label) => {
    const labelText = extractFilterLabel(label);
    let html = `<div class="applied-filter hidden">
                <p>${labelText}</p>
                <ion-icon
                  class="remove-filter"
                  name="close-outline"
                ></ion-icon>
              </div>`;
    appliedFiltersContainer.insertAdjacentHTML("afterbegin", html);
  });
};
insertAppliedFiltersInHTML();

const toggleAppliedFilterVisibility = function (e) {
  const targetText = e.target.nextElementSibling;
  const targetFilterLabel = extractFilterLabel(targetText);
  const allAppliedFiltersArray = Array.from(
    document.querySelectorAll(".applied-filter")
  );
  const targetFilter = allAppliedFiltersArray.find(
    (filter) => filter.children[0].innerText == targetFilterLabel
  );
  targetFilter.classList.toggle("hidden");
};

const uncheckFilter = function (e) {
  const removeFilterBtnIsNotClicked = e.target.localName !== "ion-icon";
  if (removeFilterBtnIsNotClicked) return;
  const allFiltersArray = Array.from(
    document.querySelectorAll(".individual-filter")
  );
  const filterToUncheck = allFiltersArray.find((filter) => {
    let filterLabel = extractFilterLabel(filter.children[1]);
    return filterLabel == e.target.previousElementSibling.innerText;
  });
  filterToUncheck.children[0].checked = false;
  e.target.closest(".applied-filter").classList.toggle("hidden");
};

//remove applied filters

const removeAllAppliedFilters = function () {
  const allAppliedFilters = document.querySelectorAll(".applied-filter");
  const allFilterCheckboxes = document.querySelectorAll(
    "input[type ='checkbox']"
  );
  allAppliedFilters.forEach((appliedFilter) =>
    appliedFilter.classList.add("hidden")
  );
  allFilterCheckboxes.forEach((filter) => (filter.checked = false));
};

const addEventListeners = function () {
  const searchResultsContainer = document.querySelector(".search-results");
  const closeBtn = document.querySelector(".full-screen-close-btn");
  const mainSearchBtn = document.querySelector(".btn-search-main");
  const firstPageSearchBtn = document.querySelector(".btn-search");
  const filtersContainer = document.querySelector(".filters");
  const appliedFiltersContainer = document.querySelector(".applied-filters");
  const removeAllAppliedFiltersBtn = document.querySelector(".remove-filters");

  removeAllAppliedFiltersBtn.addEventListener("click", function () {
    removeAllAppliedFilters();
    jobSearch();
  });
  appliedFiltersContainer.addEventListener("click", function (e) {
    uncheckFilter(e);
    jobSearch(e);
  });

  filtersContainer.addEventListener("click", (e) => {
    if (e.target.localName == "input") {
      jobSearch();
      toggleAppliedFilterVisibility(e);
    }
  });
  mainSearchBtn.addEventListener("click", jobSearch);
  searchResultsContainer.addEventListener("click", expandResult);
  closeBtn.addEventListener("click", closeExpandedResultWindow);
  document.addEventListener("keydown", (e) => {
    if (e.key === "Enter") jobSearch();
  });
  firstPageSearchBtn.addEventListener("click", jobSearch);
};
addEventListeners();
